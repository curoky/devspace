# Rime schema
# encoding: utf-8

schema:
  schema_id: clover
  name: ğŸ€ï¸å››å¶è‰ç®€ä½“æ‹¼éŸ³
  version: '1.0.0'
  author:
    - fkxxyz - https://www.fkxxyz.com
  description: |
    ç”±ğŸ€ï¸å››å¶è‰äº²è‡ªå®šåˆ¶ï¼Œç‰¹ç‚¹ï¼š
      1. ç»“åˆæœç‹—è¾“å…¥æ³•çš„è¾“å…¥ä¹ æƒ¯
      2. é»˜è®¤å¼€å¯ emoji è¡¨æƒ…æ”¯æŒ
      3. åŠ ä¸Šå¾ˆå¤šç‰¹æ®Šç¬¦å·çš„è¾“å…¥æ”¯æŒ
      4. ç¹ç®€åˆ‡æ¢æ”¯æŒ
      5. è®¸å¤šæ™ºèƒ½çº é”™
  dependencies:
    - emoji
    - melt_eng # è‹±æ–‡è¾“å…¥ï¼Œä½œä¸ºæ¬¡ç¿»è¯‘å™¨æŒ‚è½½åˆ°æ‹¼éŸ³æ–¹æ¡ˆ

switches:
  - name: zh_simp_s2t
    reset: 0
    states: [ç®€]
  - name: emoji_suggestion
    reset: 1
    states: ["ğŸˆ¶ï¸ï¸\uFE0F"]
  - name: symbol_support
    reset: 1
    states: ['ç¬¦']
  - name: ascii_punct
    reset: 0
    states: [ã€‚ï¼Œ, ï¼ï¼Œ]
  - name: full_shape
    reset: 0
    states: [åŠ]
  - name: ascii_mode
    reset: 0
    states: [ä¸­, è‹±]

engine:
  processors:
    - ascii_composer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
    - lua_translator@date_translator # æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
    - table_translator@melt_eng # è‹±æ–‡è¾“å…¥
  filters:
    - simplifier@emoji_suggestion
    - simplifier@symbol_support
    - simplifier
    - uniquifier

simplifier:
  option_name: zh_simp_s2t
  opencc_config: s2t.json

emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion
  tips: all

symbol_support:
  opencc_config: symbol.json
  option_name: symbol_support
  tips: all

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " '"
  algebra:
    # åŸºç¡€
    - abbrev/^([a-z]).+$/$1/
    - abbrev/^([zcs]h).+$/$1/

    # è¡¥å…¨
    - derive/([dtngkhrzcs])o(u|ng)$/$1o/ # o = ou; o = ong
    - derive/ong$/on/ # on = ong
    - derive/^ding$/din/ # din = ding

    # å¤„ç† v å’Œ u
    - derive/^([nl])ue$/$1ve/ # nve = nue; lve = lue
    - derive/^([jqxy])u/$1v/ # v = u; v = u

    # æ™ºèƒ½çº é”™
    - derive/ao$/oa/ # oa = ao
    - derive/([iu])a(o|ng?)$/a$1$2/ # aio = iao; aing = iang; aung = uang
    - derive/([aeiou])ng$/$1gn/ # gn = ng
    - derive/un$/uen/ # uen = un
    - derive/ui$/uei/ # uei = ui
    - derive/iu$/iou/ # iou = ui
    - derive/tie$/tei/ # tei = tie
    - derive/i$/ii/ # ii = i  # i ä¸å°å¿ƒæŒ‰ä¸¤ä¸‹
    - derive/u$/uu/ # ui = u  # u ä¸å°å¿ƒæŒ‰ä¸¤ä¸‹

translator:
  dictionary: clover
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/
  initial_quality: 1.2 # æ‹¼éŸ³çš„æƒé‡åº”è¯¥æ¯”è‹±æ–‡å¤§

# æ¬¡ç¿»è¯‘å™¨ï¼Œè‹±æ–‡
melt_eng:
  dictionary: melt_eng # æŒ‚è½½è¯åº“ melt_eng.dict.yaml
  enable_completion: true # è¡¥å…¨æç¤º
  enable_sentence: false # ç¦æ­¢é€ å¥
  enable_user_dict: false # ç¦ç”¨ç”¨æˆ·è¯å…¸
  initial_quality: 1.1 # åˆå§‹æƒé‡

# æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
date_translator:
  date: rq # æ—¥æœŸï¼š 2022-11-29
  time: sj # æ—¶é—´ï¼š 18:13
  week: xq # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
  datetime: dt # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
  timestamp: ts # æ—¶é—´æˆ³ï¼š 1669716794

punctuator:
  import_preset: symbols
  full_shape:
    '`': 'ï½€'
    '~': 'ï½'
    '!': 'ï¼'
    '@': 'ï¼ '
    '#': 'ï¼ƒ'
    '$': 'ï¿¥'
    '%': 'ï¼…'
    '^': 'â€¦â€¦'
    '&': 'ï¼†'
    '*': 'Ã—'
    '(': 'ï¼ˆ'
    ')': 'ï¼‰'
    '_': 'â€”â€”'
    '+': 'ï¼‹'
    '-': 'ï¼'
    '=': 'ï¼'
    '[': 'ã€'
    ']': 'ã€‘'
    '{': 'ï½›'
    '}': 'ï½'
    '|': 'ï½œ'
    "\\": 'ã€'
    '/': 'ã€'
    ';': 'ï¼›'
    "'": 'â€˜'
    ',': 'ï¼Œ'
    '.': 'ã€‚'
    '<': 'ã€Š'
    '>': 'ã€‹'
    '?': 'ï¼Ÿ'
  half_shape:
    '`': 'Â·'
    '~': 'ï½'
    '!': 'ï¼'
    '@': '@'
    '#': '#'
    '$': 'ï¿¥'
    '%': '%'
    '^': 'â€¦â€¦'
    '&': '&'
    '*': 'Ã—'
    '(': 'ï¼ˆ'
    ')': 'ï¼‰'
    '_': 'â€”â€”'
    '+': '+'
    '-': '-'
    '=': '='
    # '[': 'ã€'
    # ']': 'ã€‘'
    '[': '['
    ']': ']'
    '{': 'ï½›'
    '}': 'ï½'
    '|': 'ï½œ'
    "\\": 'ã€'
    '/': 'ã€'
    ';': 'ï¼›'
    "'": 'â€™'
    ',': 'ï¼Œ'
    '.': 'ã€‚'
    '<': 'ã€Š'
    '>': 'ã€‹'
    '?': 'ï¼Ÿ'

key_binder:
  import_preset: default
  bindings:
    __patch:
      - key_bindings:/emacs_editing # emacs ä¹ æƒ¯
      - key_bindings:/move_by_word_with_tab # tab åœ¨å•è¯é—´åˆ‡æ¢
      - key_bindings:/paging_with_minus_equal # å‡å·ç­‰å·ç¿»é¡µ
      - key_bindings:/paging_with_comma_period # é€—å·å¥å·ç¿»é¡µ
      - key_bindings:/paging_with_brackets # ä¸­æ‹¬å·ç¿»é¡µ
      - clover.key_bindings:/numbered_mode_switch # Ctrl+Shift+æ•°å­— åˆ‡æ¢å¼€å…³
      - clover.key_bindings:/windows_compatible_mode_switch # Windows å…¼å®¹
      - clover.key_bindings:/kp_enter_is_return # å°é”®ç›˜å›è½¦è®¾ä¸ºæ™®é€šå›è½¦

ascii_composer:
  import_preset: default
  good_old_caps_lock: false
  switch_key:
    Shift_L: noop # å·¦ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Shift_R: noop # å³ Shift åˆ‡æ¢ç›´æ¥ä¸Šå±å­—æ¯
    Control_L: noop
    Control_R: noop
    Caps_Lock: commit_code
    # Eisu_toggle: clear
